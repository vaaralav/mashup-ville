<!DOCTYPE html>
<html>
<head>
	<title>{{title}}</title>
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="css/mashup.css" rel="stylesheet">
</head>
<body>
	<div class="site-wrapper">
		<div class="container">
			<header>
				<div class="row">
					<div class="hero col-md-4">
						<h1>Pyynikintori</h1>
						<div id="weather"><p class="lead">Loading weather data...</p></div>
					</div>
					<div id="w-cam" class="hero col-md-4 no-show-mo">
						<img src="http://open.digitraffic.fi/weathercam/C1850101.jpg" alt="Weather Camera Pirkankatu, Tampere" title="C1850101">
					</div>
					<div id="clock" class="hero col-md-4 no-show-mo">
						<img src="img/clock.png">
						<p><time id="time">{{time}}</time></p>
					</div>
				</div> <!-- /.row -->
			</header>



		</div> <!-- /.container -->
	</div>


<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/bootstrap.min.js"></script>
	
<!-- GET & SHOW DATA -->
	<script type="text/javascript">
	(function() {
		// Get weather data
		$.getJSON('/api/query/weather', function(data) {
			var resultHTML = "<img src='img/weathersymbol/" + data.symbolValue + ".png' alt='" + data.symbolDesc + "' title='" + data.symbolDesc + "'>\n"; 
			resultHTML += "<h2>" + data.temperature + " Â°C</h2>\n";
			$("#weather").html(resultHTML);
		})

		clock();

		/**
		 * CLOCK
		 */
		function clock() {
			var today = new Date();
			var hh=addZero(today.getHours());
			var mm=addZero(today.getMinutes());
			//var ss=addZero(today.getSeconds());
			$("#time").html(hh+":"+mm);
			setTimeout(function() {clock()}, 1000);
		}

		function addZero(i) {
			return (i<10 ? ("0" + i) : (i));
		}

	}())</script>
</body>
</html>